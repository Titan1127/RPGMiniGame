window.__require=function t(e,n,o){function r(i,p){if(!n[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var c="function"==typeof __require&&__require;if(!p&&c)return c(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){return r(e[i][1][t]||t)},l,l.exports,t,e,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)r(o[i]);return r}({GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"ad3e75ZRHdFS5szgRFxqJ0o","GameConfig");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,p=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerNode=null,e.enemyrNode=null,e.nextBtnNode=null,e.gameStatus=null,e.hintArea=null,e.playerMaxHp=25,e.playerMaxAP=3,e.playerMaxMP=10,e.playerAtk=5,e.playerHealMpCost=8,e.playerHealHp=5,e.playerIncreaseMP=2,e.enemyAtk=3,e.enemyMaxHp=20,e.apCost=1,e.playerCurHP=0,e.playerCurAP=0,e.playerCurMP=0,e.stage=1,e.enemyCurHP=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.m_init=this},e.getInstance=function(){return this.m_init},e.prototype.setPlayerCurHP=function(t){this.playerCurHP=t},e.prototype.setPlayerCurAP=function(t){this.playerCurAP=t},e.prototype.setPlayerCurMP=function(t){this.playerCurMP=t},e.prototype.setEnemyCurHP=function(t){this.enemyCurHP=t},e.prototype.getPlayer=function(){return this.playerNode},e.prototype.getGameStatus=function(){return this.gameStatus},e.prototype.getHintArea=function(){return this.hintArea},e.prototype.setStage=function(t){this.stage=t},a([s(cc.Node)],e.prototype,"playerNode",void 0),a([s(cc.Node)],e.prototype,"enemyrNode",void 0),a([s(cc.Node)],e.prototype,"nextBtnNode",void 0),a([s(cc.Node)],e.prototype,"gameStatus",void 0),a([s(cc.Node)],e.prototype,"hintArea",void 0),n=a([p],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"f8d1eY7r8tAbq+w2+An40FC","Game");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./GameConfig"),p=cc._decorator,s=p.ccclass,c=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyNode=null,e.playerNode=null,e.nextBtnNode=null,e.resetBtnNode=null,e.enemy=null,e.player=null,e}return r(e,t),e.prototype.onLoad=function(){this.enemy=this.enemyNode.getComponent("enemy"),this.player=this.playerNode.getComponent("player"),this.nextBtnNode.active=!1},e.prototype.start=function(){this.node.opacity=255,i.default.getInstance().getHintArea().getComponent("hintArea").setBtnActive=!0,this.enemy.init(i.default.getInstance().enemyMaxHp+10*i.default.getInstance().stage),this.player.init(i.default.getInstance().playerMaxHp,i.default.getInstance().playerMaxAP,i.default.getInstance().playerMaxMP)},e.prototype.playerAttack=function(){i.default.getInstance().playerCurAP>=i.default.getInstance().apCost&&(this.player.costAP(i.default.getInstance().apCost),this.player.IncreaseMP(i.default.getInstance().playerIncreaseMP),this.enemy.hurt(i.default.getInstance().playerAtk))},e.prototype.playerHeal=function(){i.default.getInstance().playerCurAP>=i.default.getInstance().apCost&&i.default.getInstance().playerCurMP>=i.default.getInstance().playerHealMpCost&&(this.player.costAP(i.default.getInstance().apCost),this.player.heal(i.default.getInstance().playerHealMpCost)),0==i.default.getInstance().playerCurAP&&this.enemy.attack()},e.prototype.nextRoom=function(){i.default.getInstance().setStage(i.default.getInstance().stage+1),this.getComponent(cc.Animation).play("Transition")},e.prototype.onTransition=function(){this.enemy.init(i.default.getInstance().enemyMaxHp+10*i.default.getInstance().stage)},e.prototype.gameOver=function(){i.default.getInstance().getHintArea().getComponent("hintArea").SetBtnActive(!1),i.default.getInstance().getHintArea().getComponent("hintArea").setHint("\u4f60\u9ad4\u529b\u4e0d\u652f\u5012\u4e0b\u4e86..."),this.resetBtnNode.active=!0},e.prototype.resetGame=function(){i.default.getInstance().getHintArea().getComponent("hintArea").SetBtnActive(!0),i.default.getInstance().getHintArea().getComponent("hintArea").setHint(""),this.resetBtnNode.active=!1,i.default.getInstance().setStage(1),this.start()},a([c(cc.Node)],e.prototype,"enemyNode",void 0),a([c(cc.Node)],e.prototype,"playerNode",void 0),a([c(cc.Node)],e.prototype,"nextBtnNode",void 0),a([c(cc.Node)],e.prototype,"resetBtnNode",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameConfig":"GameConfig"}],config:[function(t,e,n){"use strict";cc._RF.push(e,"1f3fbItld9MpotG+dGmX39P","config"),Object.defineProperty(n,"__esModule",{value:!0}),n.getenemyHP=n.getplayerAtk=n.getPlayerMaxHp=n.enemyHP=n.playerAtk=n.playerMaxHp=void 0,n.playerMaxHp=25,n.playerAtk=5,n.enemyHP=30,n.getPlayerMaxHp=function(){return n.playerMaxHp},n.getplayerAtk=function(){return n.playerAtk},n.getenemyHP=function(){return n.enemyHP},cc._RF.pop()},{}],enemy:[function(t,e,n){"use strict";cc._RF.push(e,"7d1a01SZ3pF871CQvHTY2Xj","enemy");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./GameConfig"),p=cc._decorator,s=p.ccclass,c=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyHpLabel=null,e.enemySprite=null,e.animation=null,e.playerNode=null,e.nextBtnNode=null,e.player=null,e.hp=0,e.monster=[],e}return r(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation),this.player=i.default.getInstance().getPlayer().getComponent("player")},e.prototype.init=function(t){this.hp=t,this.setHP(t),this.node.active=!0,this.nextBtnNode.active=!1,this.player.setAP(i.default.getInstance().playerMaxAP),i.default.getInstance().stage%3==0?this.enemySprite.spriteFrame=this.monster[1]:this.enemySprite.spriteFrame=this.monster[0]},e.prototype.setHP=function(t){this.hp=t,this.updateHP()},e.prototype.updateHP=function(){this.enemyHpLabel.string="HP"+this.hp.toString()},e.prototype.start=function(){},e.prototype.hurt=function(t){if(this.hp-=t,this.hp<=0)return this.nextBtnNode.active=!0,void(this.node.active=!1);i.default.getInstance().setEnemyCurHP(this.hp),this.setHP(this.hp),this.animation.play("enemyHurt")},e.prototype.attack=function(){this.animation.play("enemyAttack")},e.prototype.OnHurtEnd=function(){i.default.getInstance().playerCurAP<=0&&this.attack()},e.prototype.OnAttackEnd=function(){this.player.playerHurt(i.default.getInstance().enemyAtk+i.default.getInstance().stage),this.player.setAP(i.default.getInstance().playerMaxAP)},a([c(cc.Label)],e.prototype,"enemyHpLabel",void 0),a([c(cc.Sprite)],e.prototype,"enemySprite",void 0),a([c(cc.Node)],e.prototype,"playerNode",void 0),a([c(cc.Node)],e.prototype,"nextBtnNode",void 0),a([c(cc.SpriteFrame)],e.prototype,"monster",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameConfig":"GameConfig"}],hintArea:[function(t,e,n){"use strict";cc._RF.push(e,"571dd/SrilM7a9568tH7jDJ","hintArea");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./GameConfig"),p=cc._decorator,s=p.ccclass,c=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hintLabel=null,e.attackBtnNode=null,e.healBtnNode=null,e.resetBtnNode=null,e}return r(e,t),e.prototype.onLoad=function(){this.attackBtnNode.on("mousemove",this.setAttackHint,this),this.healBtnNode.on("mousemove",this.setHealHint,this),this.resetBtnNode.on("mousemove",this.setResetHint,this),this.attackBtnNode.on("mouseleave",this.removeHint,this),this.healBtnNode.on("mouseleave",this.removeHint,this),this.resetBtnNode.on("mouseleave",this.removeHint,this)},e.prototype.onDestroy=function(){this.attackBtnNode.off("mousemove",this.setAttackHint,this),this.healBtnNode.off("mousemove",this.setHealHint,this),this.attackBtnNode.off("mouseleave",this.removeHint,this),this.healBtnNode.off("mouseleave",this.removeHint,this),this.resetBtnNode.off("mousemove",this.setResetHint,this),this.resetBtnNode.off("mouseleave",this.removeHint,this)},e.prototype.setAttackHint=function(){this.setHint("\u653b\u64ca\uff0c\u5c0d\u6575\u4eba\u9020\u6210"+i.default.getInstance().playerAtk.toString()+"\u9ede\u50b7\u5bb3")},e.prototype.setHealHint=function(){this.setHint("\u6062\u5fa9\uff0c\u6cbb\u7642\u81ea\u8eab"+i.default.getInstance().playerHealHp.toString()+"\u9ede\u751f\u547d\u503c\uff0c\u9700\u8981\u6d88\u8017"+i.default.getInstance().playerHealMpCost.toString()+"\u9ede\u9b54\u529b\u503c")},e.prototype.removeHint=function(){this.setHint("")},e.prototype.setHint=function(t){this.hintLabel.string=t||""},e.prototype.setResetHint=function(){this.setHint("\u518d\u7d66\u81ea\u5df1\u4e00\u6b21\u6a5f\u6703\u5427")},e.prototype.SetBtnActive=function(t){this.healBtnNode.active=t,this.attackBtnNode.active=t},a([c(cc.Label)],e.prototype,"hintLabel",void 0),a([c(cc.Node)],e.prototype,"attackBtnNode",void 0),a([c(cc.Node)],e.prototype,"healBtnNode",void 0),a([c(cc.Node)],e.prototype,"resetBtnNode",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameConfig":"GameConfig"}],player:[function(t,e,n){"use strict";cc._RF.push(e,"89b4fFSWGtI0L0fplagxHVv","player");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./GameConfig"),p=cc._decorator,s=p.ccclass,c=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerHpLabel=null,e.playerApLabel=null,e.playerMpLabel=null,e.hp=0,e.ap=0,e.mp=0,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e,n){this.hp=t,this.setHP(t),this.setAP(e),this.setMP(n)},e.prototype.setHP=function(t){this.hp=t,this.updateHP()},e.prototype.setAP=function(t){this.ap=t,this.updateAP()},e.prototype.setMP=function(t){this.mp=t,this.updateMP()},e.prototype.updateHP=function(){i.default.getInstance().setPlayerCurHP(this.hp),this.playerHpLabel.string="HP\n"+this.hp.toString()},e.prototype.updateAP=function(){i.default.getInstance().setPlayerCurAP(this.ap),this.playerApLabel.string="AP\n"+this.ap.toString()},e.prototype.updateMP=function(){i.default.getInstance().setPlayerCurMP(this.mp),this.playerMpLabel.string="MP\n"+this.mp.toString()},e.prototype.costAP=function(t){this.ap-=t,i.default.getInstance().setPlayerCurAP(this.ap),this.updateAP()},e.prototype.playerHurt=function(t){this.hp-=t,this.hp>0?(i.default.getInstance().setPlayerCurHP(this.hp),this.updateHP()):(this.hp=0,i.default.getInstance().setPlayerCurHP(this.hp),this.updateHP(),i.default.getInstance().getGameStatus().getComponent("Game").gameOver())},e.prototype.heal=function(t){this.mp-=t,this.hp+i.default.getInstance().playerHealHp>=i.default.getInstance().playerMaxHp?this.hp=i.default.getInstance().playerMaxHp:this.hp+=i.default.getInstance().playerHealHp,this.updateMP(),this.updateHP()},e.prototype.IncreaseMP=function(t){this.mp+t>=i.default.getInstance().playerMaxMP?this.mp=i.default.getInstance().playerMaxMP:this.mp+=t,this.updateMP()},a([c(cc.Label)],e.prototype,"playerHpLabel",void 0),a([c(cc.Label)],e.prototype,"playerApLabel",void 0),a([c(cc.Label)],e.prototype,"playerMpLabel",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameConfig":"GameConfig"}]},{},["Game","GameConfig","config","enemy","hintArea","player"]);